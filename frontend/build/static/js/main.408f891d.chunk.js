(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},44:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),o=n(37),s=n.n(o),i=(n(44),n(25),n(17)),l=n(6),u=n(12),d=n.n(u),p=n(16),j=n(13),b=n(7),h=n(18),f=(n(26),n(15)),m=n.n(f);function O(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),s=Object(j.a)(o,2),i=s[0],u=s[1],f=Object(c.useState)(""),O=Object(j.a)(f,2),g=O[0],x=O[1],v=Object(l.f)();var k=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.post("https://todo-appfullstack.herokuapp.com/api/register/",{username:n,password:i,password2:g}).then((function(){v.push("/login")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"Login",children:Object(a.jsxs)(b.a,{id:"username",onSubmit:k,children:[Object(a.jsxs)(b.a.Group,{size:"lg",controlId:"username",children:[Object(a.jsx)(b.a.Label,{children:"Username"}),Object(a.jsx)(b.a.Control,{autoFocus:!0,type:"username",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(b.a.Group,{size:"lg",controlId:"password",children:[Object(a.jsx)(b.a.Label,{children:"Password"}),Object(a.jsx)(b.a.Control,{type:"password",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(a.jsxs)(b.a.Group,{size:"lg",controlId:"password",children:[Object(a.jsx)(b.a.Label,{children:"Confirm Password"}),Object(a.jsx)(b.a.Control,{type:"password2",value:g,onChange:function(e){return x(e.target.value)}})]}),Object(a.jsx)(h.a,{id:"button",block:!0,size:"lg",type:"submit",disabled:!(n.length>0&&i.length>0),children:"Sign Up"})]})})}function g(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),s=Object(j.a)(o,2),i=s[0],u=s[1],f=Object(l.f)();var O=document.getElementById("login-request");localStorage.getItem("Token")&&(O.innerHTML="Already logged in as ".concat(localStorage.getItem("User")));var g=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.post("https://todo-appfullstack.herokuapp.com/api/api-token-auth/",{username:n,password:i}).then((function(e){var t=e.data.token;localStorage.setItem("Token",t),localStorage.setItem("User",n)})).then((function(){f.push("/")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"Login",children:Object(a.jsxs)(b.a,{onSubmit:g,children:[Object(a.jsxs)(b.a.Group,{size:"lg",controlId:"email",children:[Object(a.jsx)(b.a.Label,{children:"Username"}),Object(a.jsx)(b.a.Control,{autoFocus:!0,type:"username",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(a.jsxs)(b.a.Group,{size:"lg",controlId:"password",children:[Object(a.jsx)(b.a.Label,{children:"Password"}),Object(a.jsx)(b.a.Control,{type:"password",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(a.jsx)(h.a,{id:"button",block:!0,size:"lg",type:"submit",disabled:!(n.length>0&&i.length>0),children:"Login"})]})})}var x=n(24);var v=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)({id:null,title:"",completed:!1}),s=Object(j.a)(o,2),i=s[0],l=s[1],u=Object(c.useState)(!1),b=Object(j.a)(u,2),h=b[0],f=b[1];Object(c.useEffect)((function(){O()}),[]);var O=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://todo-appfullstack.herokuapp.com/api/",{headers:{Authorization:"Token ".concat(localStorage.getItem("Token"))}});case 2:t=e.sent,n=t.data,r(n),a=document.getElementById("user-status"),c=document.getElementById("login-request"),localStorage.getItem("Token")&&(a.innerHTML='<a href="/login" class="btn btn-warning">Logout</a>',c.innerHTML="Welcome, ".concat(localStorage.getItem("User")));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n="https://todo-appfullstack.herokuapp.com/api/create/",1==h&&(n="https://todo-appfullstack.herokuapp.com/".concat(i.id,"/"),f(!1)),e.next=5,m()({method:"POST",url:n,data:i,headers:{Authorization:"Token ".concat(localStorage.getItem("Token"))}});case 5:window.location.reload();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{id:"task-container",children:[Object(a.jsx)("div",{id:"form-wrapper",children:Object(a.jsx)("form",{onSubmit:g,id:"form",children:Object(a.jsxs)("div",{className:"flex-wrapper",children:[Object(a.jsx)("div",{style:{flex:6},children:Object(a.jsx)("input",{onChange:function(e){var t=e.target.value;l(Object(x.a)(Object(x.a)({},i),{},{title:t}))},className:"form-control",id:"title",type:"text",name:"title",value:i.title,placeholder:"Add task"})}),Object(a.jsx)("div",{style:{flex:1},children:Object(a.jsx)("input",{id:"submit",className:"btn btn-warning",type:"submit",name:"Add"})})]})})}),Object(a.jsx)("div",{id:"list-wrapper",children:n.map((function(e){return Object(a.jsxs)("div",{className:"task-wrapper flex-wrapper",children:[Object(a.jsx)("div",{onClick:function(){return function(e){e.completed=!e.completed;var t="https://todo-appfullstack.herokuapp.com/api/update/".concat(e.id,"/");m()({url:t,method:"POST",headers:{Authorization:"Token ".concat(localStorage.getItem("Token"))},data:e}),window.location.reload()}(e)},style:{flex:7},children:e.completed?Object(a.jsx)("strike",{children:e.title}):Object(a.jsx)("span",{children:e.title})}),Object(a.jsx)("div",{style:{flex:1},children:Object(a.jsx)("button",{onClick:function(){return l(e),void f(!0)},className:"btn btn-sm btn-outline-info",children:"Edit"})}),Object(a.jsx)("div",{style:{flex:1},children:Object(a.jsx)("button",{onClick:function(){return t=e,m()({url:"https://todo-appfullstack.herokuapp.com/api/delete/".concat(t.id,"/"),method:"DELETE",headers:{Authorization:"Token ".concat(localStorage.getItem("Token"))}}),void window.location.reload();var t},className:"btn btn-sm btn-outline-dark delete",children:"Delete"})})]},e.id)}))})]})})};var k=function(){return Object(a.jsx)(i.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:v}),Object(a.jsx)(l.a,{path:"/signup",exact:!0,component:O}),Object(a.jsx)(l.a,{path:"/login",exact:!0,component:g})]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(k,{})}),document.getElementById("root")),w()}},[[69,1,2]]]);
//# sourceMappingURL=main.408f891d.chunk.js.map